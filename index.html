<html>

<head>
	<title>Quiz</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">    
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="bootstrap/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="bootstrap/bootstrap-theme.min.css">
	

	<!-- Latest compiled and minified JavaScript for Bootstrap-->
	<script src="bootstrap/bootstrap.min.js"></script>

	<!--Installing jQuery-->
	<script src="jquery/jquery-1.11.3.js"></script>

</head>

<body>
	<div class="container">

		<h1>Quiz- World Cities</h1>
		<p class="lead">Enter the correct name of the capital city for the following countries:</p>

		<form id="quiz-form">

			<div class = "form-group">
				<label for = "q1">Greece</label>
				<input class="form-control" type="text" name ="q1" id="answer0"/>
			</div>

			<div class = "form-group">
				<label for = "q2">Phillipines</label>
				<input class="form-control" type="text" name ="q2" id="answer1"/>
			</div>

			<div class = "form-group">
				<label for = "q3">England</label>
				<input class="form-control" type="text" name ="q3" id="answer2"/>
			</div>

			<div class = "form-group">
				<label for = "q4">Canada</label>
				<input class="form-control" type="text" name ="q4" id="answer3"/>
			</div>

			<div class = "form-group">
				<label for = "q5">South Africa</label>
				<input class="form-control" type="text" name ="q5" id="answer4"/>
			</div>

			<div class = "form-group">
				<label for = "q6">Taiwan</label>
				<input class="form-control" type="text" name ="q6" id="answer5"/>
			</div>

			<div class = "form-group">
				<label for = "q7">Russia</label>
				<input class="form-control" type="text" name ="q7" id="answer6"/>
			</div>

			<div class = "form-group">
				<label for = "q8">Italy</label>
				<input class="form-control" type="text" name ="q8" id="answer7"/>
			</div>

			<div class = "form-group">
				<label for = "q9">Australia</label>
				<input class="form-control" type="text" name ="q9" id="answer8"/>
			</div>

			<div class = "form-group">
				<label for = "q10">Brazil</label>
				<input class="form-control" type="text" name ="q10" id="answer9"/>
			</div>

			<div>
				<a id="check-button" class="btn btn-lg btn-primary">Check Your Answers!</a>
			</div>
		</form>

		<div id="quiz-results-output">
		</div>

	<script>
		//creating function to print to page in quiz results section
		var html;	

		function print(message){
			var outputDiv = document.getElementById('quiz-results-output')
				outputDiv.innerHTML = message;
		}	

		//creating array 'questionsList' with all the questions asked
		var quizForm = document.getElementById('quiz-form');
		var labelsList = quizForm.getElementsByTagName('label');
		var questionsList = []; 
		for (var i=0; i<10; i+=1){
			questionsList[i] = labelsList[i].innerHTML;
		}

		//creating array 'solutions' with all the correct answers
		var solutions = [
			'athens',
			'manila',
			'london',
			'ottawa',
			'cape town',
			'taipei',
			'moscow',
			'rome',
			'canberra',
			'rio de janeiro'
		];

		//test to see if questionsList worked
		console.log('Number of questions in array: ' + questionsList.length);

		//script to run getAnswers function when the 'check your answers' button is clicked.
		//script to check user entered answers against solutions
		

		document.getElementById('check-button').onclick = function(){
			var answers = [];
			for (var i=0; i<questionsList.length; i+=1){
				answers[i] = document.getElementById('answer'+i).value;
			}
			console.log('User entered answers: ' + answers);

			var numberCorrect = 0;
			var numberIncorrect = 0;
			var questionsAnsweredCorrect = [];
			var questionsAnsweredIncorrect = [];

			//note: .trim() removes the white space after a string
			for (var i=0; i<questionsList.length; i+=1){
				if (answers[i].toLowerCase().trim() === solutions[i]){
					numberCorrect += 1;
					questionsAnsweredCorrect.push(i+1);
				} else if (answers[i].toLowerCase().trim() != solutions[i]){
					numberIncorrect += 1;
					questionsAnsweredIncorrect.push(i+1); 
				}
			}	
			//alert("You got " + numberCorrect + " questions correct and " + numberIncorrect + " questions wrong.");
			//alert('Questions you answered correctly: ' + questionsAnsweredCorrect.join());


			html = "You got " + numberCorrect + " questions correct and " + numberIncorrect + " questions wrong.<br/>";
			html += "Questions you answered correctly: " + questionsAnsweredCorrect.join() + "<br/>";
			if (questionsAnsweredIncorrect.length != 0){
				html += "Questions you answered incorrectly: " + questionsAnsweredIncorrect.join();
				}
			print(html);
			}
		//}
		
	</script>
	</div>

</body>
</html>